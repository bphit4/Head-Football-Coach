{% include "HeadFootballCoach/ext_NavBar.html" %}
{% load static %}
{% load CustomTags %}
{% load humanize %}

<div WorldID="{{page.WorldID}}" TeamJerseyInvert="{{page.TeamJerseyInvert}}" TeamJerseyStyle="{{page.TeamJerseyStyle}}" PrimaryColor="{{page.PrimaryColor}}" SecondaryColor="{{page.SecondaryColor}}"  SecondaryJerseyColor="{{page.SecondaryJerseyColor}}" TeamID="{{team.TeamID}}" style='display:none;'
  id='PageDataPassthru'></div>

<head>
  <style id="addedStyle">
    .SelectedGameBox::after {
      border-left-width: 35px;
      border-right-width: 35px;
      border-width: 15px 35px 0;}

  </style>

</head>

{% include "HeadFootballCoach/ext_TeamColoring.html" %}


<link href="https://fonts.googleapis.com/css?family=Volkhov&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'Hoops/style.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'common/jquery.dataTables.css' %}">
<link rel="stylesheet" href="{% static 'common/bootstrap.min.css' %}">
<body>
  <div class="PageContent">
    {% include "HeadFootballCoach/ext_TeamHeader.html" %}
    <nav>
      <div class="w3-bar team-bar" id="nav-tab" style="background-color: #{{page.PrimaryColor}}; border-bottom: 3px solid #{{page.SecondaryColor}}; border-top: 3px solid #{{page.SecondaryColor}};  color: white; ">
        <button class="w3-bar-item w3-button tab nav-tab-button selected-tab" id="nav-overview-tab" style="background-color: #{{page.SecondaryColor}};">Overview</button>
        <button class="w3-bar-item w3-button tab nav-tab-button" id="nav-info-tab">Team Info</button>
        {% include "HeadFootballCoach/ext_TeamList.html" %}
      </div>
    </nav>
    <div id="nav-tabContent">
      <div class="tab-content" style='display:block;' id="nav-overview">
        <div class="w3-display-container">
          <div class="w3-row-padding">
            <div class="w3-col s8 w3-display-container">
              <div class="w3-row">
                <div class="w3-card w3-light-grey w3-col s12">
                  <div class="w3-row teamScheduleBar w3-white equal-sized-item-container">
                    {% for game in games%}
                    <div BoxScoreGameID="{{game.GameID}}" class="equal-sized-item teamScheduleGameBox w3-display-container {{game.SelectedGameBox}}">
                      <div class="teamScheduleGameBoxShortDate ellipsis" style='background-color: #{{game.Opponent.TeamColor_Primary_HEX}}'>{{game.Week}}</div>
                      <div class="equal-sized-item-container">
                        <img class='teamScheduleOpponentLogo centered-item' src='{{game.OpponentLogoURL}}' />
                      </div>

                      <div class="width100">
                        <a href="/World/{{page.WorldID}}/Team/{{game.Opponent.TeamID}}">
                          <div class='teamScheduleGameBoxVsString'>{{game.VsString}}</div>
                        </a>
                        <div class="teamScheduleGameBoxResult">
                          <div class="teamGameResultLetter{{game.GameResultLetter}}">{{game.GameResultLetter}}</div>
                          <a href="/World/{{page.WorldID}}/Game/{{game.Game.GameID}}">{{game.GameDisplay}}</a>
                        </div>
                      </div>
                    </div>
                    {% endfor %}
                  </div>
                  <div class="w3-row teamScheduleGameDashboard w3-display-container w3-light-grey">
                    {% for game in games%}
                    <div BoxScoreGameID="{{game.GameID}}" class="teamScheduleGameDashboardGameDisplay w3-display-middle w3-col s8 w3-display-container w3-white w3-border w3-border-grey w3-hide">
                      <div class="w3-col s7 height100 w3-display-container">
                        <div class="teamScheduleGameDashboardGameTeamDisplayContainer w3-display-container">
                          <div class="teamScheduleGameDashboardGameTeamDisplay" style='background-color: #{{game.AwayTeam.TeamColor_Primary_HEX}}'></div>
                          <div class="teamScheduleGameDashboardGameTeamDisplayOffsetTop w3-white w3-display-topmiddle"></div>
                          <img class='teamScheduleGameDashboardGameTeamDisplayLogoTop w3-display-middle' src='{{game.AwayTeam.LogoURL}}' />
                        </div>
                        <div class="teamScheduleGameDashboardGameTeamDisplayContainer w3-display-container">
                          <div class="teamScheduleGameDashboardGameTeamDisplay" style='background-color: #{{game.HomeTeam.TeamColor_Primary_HEX}}'></div>
                          <div class="teamScheduleGameDashboardGameTeamDisplayOffsetBottom w3-white w3-display-bottommiddle"></div>
                          <img class='teamScheduleGameDashboardGameTeamDisplayLogoBottom w3-display-middle' src='{{game.HomeTeam.LogoURL}}' />
                        </div>
                        <div class="teamScheduleGameDashboardGameDisplayTeams w3-col s12 w3-display-container w3-display-topmiddle">
                          <div class=" w3-display-container">
                            <span class='w3-display-right font10 padBottom20'>{{game.Week}}</span>
                          </div>
                          <div class=" w3-display-container">
                            <span class='font10'>{{game.AwayTeamRank}}</span>
                            <span class='font17 {{game.AwayTeamWinningGameBold}}'><a href="/World/{{page.WorldID}}/Team/{{game.AwayTeam.TeamID}}">{{game.AwayTeam.TeamName}}</a></span>
                            <span class='font10'>{{game.AwayTeamRecord}}</span>
                            <span class='w3-display-right {{game.AwayTeamWinningGameBold}}'>{{game.AwayPoints}}</span>
                          </div>
                          <div class=" w3-display-container">
                            <span class='font10'>{{game.HomeTeamRank}}</span>
                            <span class='font17 {{game.HomeTeamWinningGameBold}}'><a href="/World/{{page.WorldID}}/Team/{{game.HomeTeam.TeamID}}">{{game.HomeTeam.TeamName}}</a></span>
                            <span class='font10'>{{game.HomeTeamRecord}}</span>
                            <span class='w3-display-right {{game.HomeTeamWinningGameBold}}'>{{game.HomePoints}}</span>

                          </div>
                        </div>
                        <div class="w3-display-bottomleft teamScheduleGameDashboardGameDisplayBoxScoreText">
                          <a href="/World/{{page.WorldID}}/Game/{{game.GameID}}">
                            Box Score
                          </a>
                        </div>
                      </div>
                      <div class="w3-col w3-display-container s5 height100">
                        <div class="w3-bar boxscore-bar" id="nav-tab-{{game.GameID}}">
                          <button TeamID="{{game.HomeTeam.TeamID}}" GameID="{{game.GameID}}" class="w3-bar-item boxscore-tab w3-button tab selected-boxscore-tab" id="boxscore-hometeam-tab">{{game.HomeTeam.Abbreviation}}</button>
                          <button TeamID="{{game.AwayTeam.TeamID}}" GameID="{{game.GameID}}" class="w3-bar-item boxscore-tab w3-button tab" id="boxscore-awayteam-tab">{{game.AwayTeam.Abbreviation}}</button>
                        </div>
                        <div class="w3-display-container">

                          <div TeamID="{{game.HomeTeam.TeamID}}" GameID="{{game.GameID}}" class="w3-display-container team-highlights w3-light-grey height100 selected-boxscore">
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.HomeTeamPlayer1.PlayerID}}">{{game.HomeTeamPlayer1.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.HomeTeamPlayer1.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.HomeTeamPlayer1.PlayerStats}}</span>
                              </div>
                            </div>
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.HomeTeamPlayer2.PlayerID}}">{{game.HomeTeamPlayer2.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.HomeTeamPlayer2.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.HomeTeamPlayer2.PlayerStats}}</span>
                              </div>
                            </div>
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.HomeTeamPlayer3.PlayerID}}">{{game.HomeTeamPlayer3.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.HomeTeamPlayer3.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.HomeTeamPlayer3.PlayerStats}}</span>
                              </div>
                            </div>
                          </div>
                          <div TeamID="{{game.AwayTeam.TeamID}}" GameID="{{game.GameID}}" class="w3-display-container team-highlights w3-light-grey w3-hide height100">
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.AwayTeamPlayer1.PlayerID}}">{{game.AwayTeamPlayer1.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.AwayTeamPlayer1.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.AwayTeamPlayer1.PlayerStats}}</span>
                              </div>
                            </div>
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.AwayTeamPlayer2.PlayerID}}">{{game.AwayTeamPlayer2.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.AwayTeamPlayer2.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.AwayTeamPlayer2.PlayerStats}}</span>
                              </div>
                            </div>
                            <div class="">
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.AwayTeamPlayer3.PlayerID}}">{{game.AwayTeamPlayer3.PlayerName}}</a></span>
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.AwayTeamPlayer3.PlayerPosition}}</span>
                              </div>
                              <div class="">
                                <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.AwayTeamPlayer3.PlayerStats}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    {% endfor %}
                  </div>
                </div>
              </div>
              <div class="w3-row w3-margin-top">
                <div class="w3-card w3-col s12 w3-padding-small">
                  <div class="w3-card-header">
                    Team Leaders
                  </div>
                  <div class="w3-row">
                    {% for teamLeader in teamLeaders %}
                    <div class="w3-col s6 teamTeamLeaderBox">
                      <h2 class='teamTeamLeaderBoxStat'>{{teamLeader.DisplayName}}</h2>
                      <div class="" style='display:inline-block; margin-top: -10px;'>
                        <div class="teamTeamLeaderBoxPlayerFace inline-block" id="teamTeamLeaderBoxPlayerFace{{forloop.counter}}" PlayerFaceJson="{{teamLeader.PTS.PlayerFaceJson|safe}}" HasPlayerFaceJSON="{%if teamLeader.PTS.PlayerFaceJson|length > 0%}1{%else%}0{%endif%}" >
                            <div id="playerFace{{forloop.counter}}" class="PlayerFaceDisplay">

                            </div>
                        </div>
                        <div class="inline-block w3-cell-bottom">
                          <div class="">
                            <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{teamLeader.PTS.PlayerID}}">{{teamLeader.PTS.PlayerName}}</a></span>
                            <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{teamLeader.PTS.PlayerPosition}}</span>
                          </div>
                          <div class="">
                            <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{teamLeader.Value}} total{% if teamLeader.ValuePerGame%}, {{teamLeader.ValuePerGame}} per game{%endif%}</span>
                          </div>
                        </div>

                      </div>
                    </div>
                    {% if forloop.counter|divisibleby:2%}
                  </div>
                  <div class="w3-row">
                    {% endif %}
                    {% endfor %}
                  </div>

                </div>
              </div>
              <div class="w3-row w3-margin-top">
                <div class="w3-card w3-col s12 w3-padding-small">
                  <div class="w3-card-header">
                    Team Stats
                  </div>
                  <div class="w3-row">
                    <div class="w3-col s6">
                      <div class="teamTeamLeaderBox">
                        <div class="">
                          <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerName'><a href="/World/{{page.WorldID}}/Player/{{game.HomeTeamPlayer1.PlayerID}}">{{game.HomeTeamPlayer1.PlayerName}}</a></span>
                          <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerPosition'>{{game.HomeTeamPlayer1.PlayerPosition}}</span>
                        </div>
                        <div class="">
                          <span class='teamScheduleGameDashboardGameDisplayBoxScorePlayerStats'>{{game.HomeTeamPlayer1.PlayerStats}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="w3-col s6">
                      PER Leader
                    </div>
                  </div>
                  <div class="w3-row">
                    <div class="w3-col s6">
                      APG Leader
                    </div>
                    <div class="w3-col s6">
                      RPG Leader
                    </div>
                  </div>
                  <div class="w3-row">
                    <div class="w3-col s6">
                      SPG Leader
                    </div>
                    <div class="w3-col s6">
                      BPG Leader
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="w3-col  s4">
              <div class="w3-row">


                <div class="w3-card">

                  <div class="w3-card-header table_title">
                    {{team.ConferenceName}} Standings
                  </div>
                  <table id='teamOverviewConferenceStandings'>
                    <thead>
                      <th>Team</th>
                      <th>Conf</th>
                      <th>GB</th>
                      <th>Record</th>
                    </thead>
                    {% for standingTeam in conferenceTeams %}
                    <tr class='{{standingTeam.BoldTeam}}'>
                      <td>
                        <a href="{{standingTeam.TeamHref}}">
                          <img class='teamOverviewConferenceStandingsTeamLogo' src="{{standingTeam.TeamLogoURL}}" />
                          {{standingTeam.NationalRankDisplay}} {{standingTeam.TeamName }}
                        </a>
                      </td>
                      <td>{{standingTeam.ConferenceWins}}-{{standingTeam.ConferenceLosses}}</td>
                      <td>{{standingTeam.ConferenceGB}}</td>
                      <td>{{standingTeam.Wins}}-{{standingTeam.Losses}}</td>
                    </tr>
                    {% endfor %}
                  </table>
                </div>
              </div>
              <div class="w3-row w3-margin-top">


                <div class="w3-card">

                  <div class="w3-card-header">
                    {{team.TeamName}} Signed Recruits
                  </div>
                  <table id='teamOverviewConferenceStandings'>
                    <thead>
                      <th class='teamColorBorder'>Player</th>
                      <th class='teamColorBorder'>Pos</th>
                      <th class='teamColorBorder'>Hometown</th>
                      <th class='teamColorBorder'>*</th>
                      <th class='teamColorBorder'>Rank</th>
                      <th class='teamColorBorder'>Overall</th>
                    </thead>
                    {% for Recruit in SignedRecruits %}
                    <tr >
                      <td  class='w3-margin-top'>
                        <a href="/World/{{page.WorldID}}/Player/{{ Recruit.PlayerID.PlayerID }}/">
                          {{Recruit.PlayerID.FullName}}
                        </a>
                      </td>
                      <td>{{Recruit.PlayerID.PositionID.PositionAbbreviation}}</td>
                      <td>{{Recruit.PlayerID.HometownAndState}}</td>
                      <td>{{Recruit.PlayerID.RecruitingStars}}</td>
                      <td>{{Recruit.PlayerID.Recruiting_NationalRank}}</td>
                      <td>{{Recruit.PlayerID.OverallRating}}</td>
                    </tr>
                    {% endfor %}
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
      <div class="tab-content" style='display:none;' id="nav-info">
        <div class='w3-display-container'>
          <div class="w3-row-padding">
            <div class="w3-col s6">
              <div class="w3-card">
                <table class='w3-table-all' id='TeamInfo'>
                  <tbody>
                    <tr>
                      <th>Team Prestige</th>
                      <td class='{{TeamInfoRatings.TeamPrestige|NumberToGradeClass}}'>{{TeamInfoRatings.TeamPrestige|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.TeamPrestige_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Facilities</th>
                      <td class='{{TeamInfoRatings.FacilitiesRating|NumberToGradeClass}}'>{{TeamInfoRatings.FacilitiesRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.FacilitiesRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Pro Potential</th>
                      <td class='{{TeamInfoRatings.ProPotentialRating|NumberToGradeClass}}'>{{TeamInfoRatings.ProPotentialRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.ProPotentialRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Campus Lifestyle</th>
                      <td class='{{TeamInfoRatings.CampusLifestyleRating|NumberToGradeClass}}'>{{TeamInfoRatings.CampusLifestyleRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.CampusLifestyleRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Academic Prestige</th>
                      <td class='{{TeamInfoRatings.AcademicPrestigeRating|NumberToGradeClass}}'>{{TeamInfoRatings.AcademicPrestigeRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.AcademicPrestigeRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Television Exposure</th>
                      <td class='{{TeamInfoRatings.TelevisionExposureRating|NumberToGradeClass}}'>{{TeamInfoRatings.TelevisionExposureRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.TelevisionExposureRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Coach Stability</th>
                      <td class='{{TeamInfoRatings.CoachStabilityRating|NumberToGradeClass}}'>{{TeamInfoRatings.CoachStabilityRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.CoachStabilityRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>Championship Contender</th>
                      <td class='{{TeamInfoRatings.ChampionshipContenderRating|NumberToGradeClass}}'>{{TeamInfoRatings.ChampionshipContenderRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.ChampionshipContenderRating_Rank|ordinal}}</td>
                    </tr>
                    <tr>
                      <th>School Location</th>
                      <td class='{{TeamInfoRatings.LocationRating|NumberToGradeClass}}'>{{TeamInfoRatings.LocationRating|NumberToGrade}}</td>
                      <td>{{TeamInfoRatings.LocationRating_Rank|ordinal}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="w3-card margin-top-24">
                <div id="map" style='height: 500px;'></div>
              </div>
            </div>

          </div>
        </div>
    </div>
  </div>
</body>


<script src="{% static 'common/jquery-3.3.1.slim.min.js' %}"></script>
<script src="{% static 'common/jquery.min.js' %}"></script>
<script src="{% static 'common/popper.min.js' %}"></script>
<script type="text/javascript" charset="utf8" src="{% static 'common/jquery.dataTables.js' %}"></script>

<!--
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDX46TscW2zlg1TXf-Qx6PWs2nyR1rRgWs"></script>  -->
<script type="text/javascript" src="{% static 'common/jquery.googlemap.js' %}"></script>
<script src="{% static 'Highcharts/code/highcharts.js' %}"></script>
<script src="{% static 'Highcharts/code/modules/sankey.js' %}"></script>
<script src="{% static 'Highcharts/code/modules/organization.js' %}"></script>
<script src="{% static 'Highcharts/code/modules/accessibility.js' %}"></script>

<script src="{% static 'Pages/Team.js' %}" type="module"></script>
<script src="{% static 'facesjs-master/src/generate.js' %}"></script>
<script src="{% static 'common/bootstrap.min.js' %}"></script>
<script src="{% static 'action.js' %}"></script>
<script src="{% static 'common/loader.js' %}"></script>

<style media="screen">
  .teamColorBorder {
    border-top-color: #{{page.PrimaryColor}}  !important;
    border-bottom-color: #{{page.PrimaryColor}} !important;
  }
</style>

{{ TeamMapData|json_script:"map-data" }}
